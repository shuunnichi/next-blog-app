# Silent Camera - リアルタイム遠隔無音撮影システム

スマホを無音カメラ化し、スマホだけでなくPCなどの別ブラウザから遠隔操作でシャッターを切ることができる、~~リアルタイム~~遠隔撮影システムです。

### 公開URL

**https://silent-camera-v1.vercel.app**

### 開発情報

* **開発期間**: 2026年2月1日 〜 2026年2月23日（約 30 時間）

---

## アプリ概要

音を出さずに撮影したいときに、標準のアプリではそれができない。しかしアプリをつかえば、無音で撮影しそのままクラウドにアップすることができます。

このアプリは、撮影用と制御側の2つのモードを備えています。スマホを設置し、無音で撮影指示を待ち受け、撮影された写真は即座にクラウドへ保存されます。

## 特徴と主な機能

### 1. 遠隔シャッター機能

Commander（PC側）からボタン一つで、離れた場所にあるAgent（スマホ）のカメラを起動・撮影させることができます。

### 2. リアルタイム・プレビュー & 管理

撮影された写真は Supabase Storage にアップロードされ、Commander 側で撮影結果を確認・管理（閲覧・削除）できます。

### 3. 無音・ブラウザベースの動作

ブラウザだけで完結し、標準のカメラシャッター音に邪魔されずにスマホだけでも撮影が可能です。

### 4. デバイス管理

複数のデバイスを Agent として運用することを想定し、各デバイスの状態（オンライン/オフライン）を最終更新時刻から判定して表示します。Agent 側でパスワードを設定することができて、 Commander 側からはパスワードがないと見られなくなります。

---
  
## 📸 スクリーンショット / デモ 
1. **メインメニュー**
<img width="1253" height="789" alt="image" src="https://github.com/user-attachments/assets/2b810b0b-c849-439d-acfa-3321a37df33e" />

2. **Agent モード**
<img width="375" height="667" alt="image" src="https://github.com/user-attachments/assets/5045ba7a-d58c-4c83-bca1-57a0fa765d26" />

<img width="375" height="667" alt="image" src="https://github.com/user-attachments/assets/1fe41b31-2d72-445c-9c5d-fc6328ea988f" />

<img width="375" height="667" alt="IMG_4004" src="https://github.com/user-attachments/assets/e480b793-6e4c-47fe-ae7d-aa8056a93c8c" />

3. **Commander モード**
<img width="1903" height="1040" alt="image" src="https://github.com/user-attachments/assets/9df557ff-6d97-4447-9531-59909c533715" />

<img width="1476" height="932" alt="image" src="https://github.com/user-attachments/assets/bb257a19-cd01-4fd3-8a5b-2c06f62dea96" />


---

## 使用技術 (技術スタック)

### フロントエンド / バックエンド

* **Next.js 15 (App Router)**: 最新の非同期 API 仕様に基づいた実装
* **TypeScript**: 型安全な開発の徹底
* **Tailwind CSS**: モダンスタイルおよびレスポンシブデザイン
* **Prisma**: PostgreSQL との型安全な ORM 接続
* **Supabase**:
* **PostgreSQL**: デバイス情報および写真メタデータの管理
* **Storage**: 写真データのホスティング


* **Vercel**: アプリケーションのデプロイと運用


---

## 工夫した点・苦労した点

### 1. 撮影の重複実行防止 (Race Condition)

ポーリングによる撮影指令の取得時、ネットワークの遅延や State 更新のタイミングにより、1回の指令で複数枚撮影されてしまう問題が発生しました。これを解決するため、`useRef` を用いたフラグ管理を導入し、状態更新を待たずに即座に二重実行をブロックするロジックを実装しました。

### 2. アニメーションの工夫

撮影時に画面を一瞬白く光らせる「フラッシュ効果」や、削除実行時のローディングスピナーの実装など、ブラウザベースでもネイティブアプリに近い操作感を得られるようディテールを調整しました。



## 今後の展望と課題

* **WebSocket (Supabase Realtime) への移行**: ポーリングによる遅延を解消し、完全リアルタイムな遠隔撮影を実現する。
* **PWA (Progressive Web App) 対応**: スマホ側でフルスクリーン起動し、より「カメラデバイス」としての操作感を高める。
* **アプリの高速化**: 今のままだとすべての処理が遅く、パスワードありだとかなり遅いので処理を速くする。
* **遠隔撮影の正確化**: 遠隔撮影すると複数枚撮影することがしばしばあるので、そこを修正する。

